# 内容

このワークではプログラミングにおける*関数*（英語でfunction）に関して２つのアプローチで理解を深めます。

セクション１では、すでにある関数をいくつか使ってみます

セクション２では、自分で新たに関数を作るやり方を学びます

# セクション１ 関数を使ってみる

# 1.1 メッセージを表示する関数を使ってみる

## 問題

ブラウザに「hello!」とメッセージのポップアップを表示させたいです。どうやったら出来ますか？

### ヒント

- ブラウザには ``` window ```という名前の*オブジェクト*が入っています。
- オブジェクトを使うことはすなわちプログラングそのものです。またオブジェクトを作ることもプログラミングの一部です（別の機会に解説します）
- ```window``` このオブジェクトにはたくさんの便利な関数があって、その中の```alert()```という関数は、指定したテキストをポップアップ形式で表示してくれます。

<br/><br/><br/><br/><br/>

### 実際にやってみよう！　

```javascript
window.alert('hello')
```

<br/><br/><br/><br/><br/>

### ふりかえり

- ```window``` というオブジェクトに仕事をさせました。このオブジェクトはブラウザがスタートしたら自動的に作れらます
- オブジェクトにはいろんな関数があらかじめ備わっています
- メッセージは*'*記号で囲みました。これを*文字列*と呼びます。英語では character array と呼びます
- メッセージをカッコ（）の中に指定して、関数に渡しました
- 関数に渡すものを*引数*と呼びます。英語ではparemeterとかargumentと呼びます

# 1.2 任意のページをロードする関数を使ってみる

## 問題

ブラウザは指定したウェブサイトのページを表示してくれます。ブラウザに別のウェブサイトのページを表示させたいです。例えば（https://google.com）のトップページを表示させるにはどうしたらいいでしょうか？

### ヒント

- この場合はブラウザの windows オブジェクトの```open()```関数を使います

<br/><br/><br/><br/><br/>

### 実際にやってみよう！

```javascript
window.open('https://google.com')
``` 

<br/><br/><br/><br/><br/>

### ふりかえり

- open()関数にウェブサイトのアドレスを渡して、そのウェブサイトのトップページ表示させました
- 関数を使う時*関数を呼び出す*という言い方をします。英語では call a function という言い方をします。


# 1.3. 計算をしてくれる関数を使ってみる

## 問題

７の５乗の答えを、すでにある関数を使って求めたいです（7 x 7 x 7 x 7 x 7 という式はつかってはいけません。）その関数はどこにあるでしょう？
どうやってその関数を使いますか？実際に７の５乗の値を求めましょう。

### ヒント

- この場合はJavaScriptにもともと定義されている Math オブジェクトの```pow()```関数を使います。
- pow は power of の約です。「べき乗」の計算（a の n 乗）をしてくれます。
- pow() 関数は２つの引数を取ります。左から、ひとつ目の引数が基数（a)、ふたつ目の引数が指数（n）です

<br/><br/><br/><br/><br/>

### 実際にやってみよう！

```javascript
Math.pow(7, 5)
``` 

<br/><br/><br/><br/><br/>

### ふりかえり

- 関数は複数の引数を取るものもある
- 数値演算に関連した関数はMathオブジェクトに多く定義されている
- 関数によっては「結果」を返すものもある。この「関数が返す値」を*戻り値（もどりち）*と呼びます。英語では return value

# セクション２ 関数を作ってみる

プログラミングは「関数を作る仕事」と言ってもいいでしょう。ここでは関数を作る（定義する）やり方を練習します。

# 2.1 掛け算をする関数を作りましょう

## 問題

a と x という今の段階では分からない数値がを引数として受け取り、掛け算をしてその結果を返す関数を書いてください。関数には multiply という名前を付けてましょう。関数が出来たら実際に a と x にそれぞれ 3 と 5 を指定して呼び出してみましょう。結果が15なら成功です！

## ヒント

- 関数の名前は ``` var multiply ``` で表します
- a と x という引数を取る、という部分は ```(a, x)``` で表します。引数が複数の場合はコンマで区切ります（スペースはあっても無くてもいいですが、あった方が見やすいですね）
- a と x の掛け算の式は ``` a * x ``` で表します（「掛ける」はXではなく*で表すことに注意）
- 全部をまとめて「関数の名前」= 「関するの引数の部分」=> 「関数の式の部分」として表します（実際にやってみると分かりやすいです）

<br/><br/><br/><br/><br/>

### 実際にやってみよう！

```javascript
var multiply = (a, x) => a * x
multiply(3, 5)
``` 

<br/><br/><br/><br/><br/>

### ふりかえり


少し難しかったかもしれませんが、少しずつ分解して考えると理解できます。

- ``` var multiply = ``` の部分は*代入*です（英語で assignment ）。これは数値を格納する変数と全く同じ書き方です。*= 記号の右側*を*= 記号の左側*に*入れる（代わりとして入する）*という意味です。受け取る側（=記号の左側）オブジェクトでなくてはなりません。この場合は multiply という名前のオブジェクトを同時に定義しています
- 「= の右側」は``` (a, x) => a * x``` となっています。この形は (引数）=> 関数の式 という「関数の書き方」です。
- 式を評価した結果は関数から,呼び出し元に「返されます」。
- 全体を言葉で表すとすると、日本語だと少し不自然になりますが「引数に a と x をとり、掛け算の式を実装する関数を作って multiply という名前のオブジェクトに保存する」）」のようになります。（英語では define a function named multiply that takes two parameters, a and x, and return a product of the two parameters.）


# 2.2.1 慣れるための練習（その１）

## 問題

関数の書き方が少し複雑なので、慣れるためにいくつかの簡単な関数を書きます
a と x を足す関数。名前は add


## ヒント

関数の名前はなんでもいいですが、すでに使われている名前を``` var```で再定義しようとするとエラーが出ます。逆に「= オペレータ」で上書きすると、それ以前の関数の実装は消えてなくなってしまいます。
引数の名前はなんでもいいですし、他の関数が引数として使っていたとしてもまた使えます。関数の引数の名前は、その関数の中だけで使われるので、同じ名前でぶつかることはないのです。逆に同じ関数の中で同じ名前を使う時は注意が必要です（別の機会に説明します）

<br/><br/><br/><br/><br/>

### 実際にやってみよう！

```javascript
var add = (a, x) => a + x
add(3, 5)
``` 

<br/><br/><br/><br/><br/>

### ふりかえり

もう簡単ですよね？では、次にもう少し複雑な関数を作って見ます

# 2.2.2 慣れるための練習（その２）

## 問題

a と b と x を引数にとって、a * x + b になるような関数。名前はf1
確認として 3 * x 12 で x が5 の場合を関数f1を使って計算してみよう

<br/><br/><br/><br/><br/>

### 実際にやってみよう！

```javascript
var f1 = (a, b, x) => a * x + b
f1(3, 12, 5)
``` 

<br/><br/><br/><br/><br/>

### ふりかえり

どこかの数学の授業で見たことがあるような式が出てきましたね。せっかくなのでもっと数学の授業っぽいのをやってみましょう！


# 2.2.3 慣れるための練習（その３）

## 問題

a と b と c と x を引数にとって、(a * x * x) +　(b * x) + c になるような関数。名前はf2
確認として 2 * x * x + 3 * x + 4 で x が8 の場合を関数f1を使って計算してみよう

<br/><br/><br/><br/><br/>

### 実際にやってみよう！

```javascript
var f2 = (a, b, c, x) => a * x * x + b * x + c
add(2, 3, 4, 8)
``` 

<br/><br/><br/><br/><br/>

### ふりかえり

こんな感じの数式、見たことがありますか？ こういう数式もコンピュータに仕事をさせることで簡単正確に計算できるます。

どうですか？慣れてきましたか？念のために引数が無い関数を書いてみましょう

# 2.2.3 慣れるための練習（その４）

## 問題

引数を受け取らない関数を作って、```alert()``` 関数を使って```hello```というメッセージを表示してたいです。関数の名前は sayHelloです。

<br/><br/><br/><br/><br/>

### 実際にやってみよう！

```javascript
var sayHello = () => alert('hello')
sayHello()
``` 

<br/><br/><br/><br/><br/>

### ふりかえり

簡単ですね、空っぽのカッコを使えばいいだけです「関数の引数 => 関数の式」という形は同じです。

ところで、引数が1個の場合はもっと簡単に書くことが出来ますからやってみましょう。

# 2.2.3 慣れるための練習（その５）

## 問題

引数aを受け取って、aを2倍する関数を作りたいです。関数の名前は mulby2です。

### ヒント

「(a）=> 式」 からカッコを取り除いて「a => 式」のように出来ます。引数が1個の時だけ特別です

<br/><br/><br/><br/><br/>

### 実際にやってみよう！

```javascript
var mulby2 = a => a * 2
mulby2(5)
``` 

<br/><br/><br/><br/><br/>

### ふりかえり

簡単ですが、単純化すればするほど、ちゃんと意味が分かっていないと何のことだか訳が分からなくなりますね。好きな方を使っていいのです。

次は関数の式の部分をちょっとだけ複雑にする場合の書き方を見ていきます

# 2.2.3 慣れるための練習（その６）

## 問題

引数は受け取らないが、```alert```関数を2回呼び出す関数を作りたいです。1回目のメッセージは```hello```、2回目のメッセージは```nice to meet you```にしたいです。関数の名前は greetです。

### ヒント

- alert('メッセージの内容') を2回、同じ行で呼び出すには*;*記号でひとつ目の関数呼び出しをはっきりと終わらせます。例： ```alert('メッセージの内容１'); alert('メッセージの内容２')``` 
- 関数の引数 => 関数の式 の書き方の場合関数の式は１つでなくてはなりません。```alert```関数を１回だけ呼び出す時は式は１つとされましたが、２回呼び出すと１つの式だとは解釈してもらえません。１つの式にまとめるには*{ }* で括ってやります。例： ```{alert('メッセージの内容１'); alert('メッセージの内容２')}``` 

<br/><br/><br/><br/><br/>

### 実際にやってみよう！

```javascript
var greet = () => { alert('hello'); alert('nice to meet you') }
mulby2(5)
``` 

<br/><br/><br/><br/><br/>

### ふりかえり

関数の式が複雑になると{ }を使ってひとつにまとめることが出来ます。｛ ｝を使う別の理由として return オペレータを使う場合があります。見てみましょう。





# 3．関数が呼び出されるタイミングをプログラミングしてみる

> 例えば10秒たったら alert() 関数が呼び出されるように「しこんでみましょう」

（これはラムダ式が出て来るので後で）

### ヒント

- 

```
var pi = 3.14
```

実際にやってみよう！　<br/><br/><br/><br/><br/><br/><br/><br/>

### ふりかえり

- 変数は「名前の付いた箱」で値は「箱の中身」でした
- 式の中で変数を使うことが出来ます
- 変数の名前を x とか y とかにすると数学っぽく見えます。それもそのはず、プログラミングの式は数学の代数（algebra)を基礎にしているからです
- Console で使った式などは、キーボードの↑キーを使って呼び戻すことが出来ます（面倒な入力をまたしなくちゃいけない時に便利です）

