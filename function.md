# 内容

このワークではプログラミングにおける*関数*（英語でfunction）に関して２つのアプローチで理解を深めます。プログラミング言語はJavaScriptですが、他のプログラミング言語と書き方はさほど違いはありません。それよりも関数に関連した概念をしっかり理解することが大切です。

セクション１では、すでにある関数をいくつか使ってみます

セクション２では、自分で新たに関数を作るやり方を学びます

セクション３は、おまけです。関数の作り方でちょっと細かいルールを紹介してます。これはやってもやらなくても大丈夫です。


# セクション１ 関数を使ってみよう！

# 1.1 メッセージを表示する関数

## 問題

ブラウザに「hello!」とメッセージのポップアップを表示させたいです。どうやったら出来ますか？

### ヒント

- ブラウザには ``` window ```という名前の*オブジェクト*と呼ばれるものが入っています（他にもいろんなオブジェクトがあるけど今回は```window```オブジェクトを使います）
- ``` window ```オブジェクトにはいくつかの*関数*と呼ばれるものが付いてきます。
- ``` window ```オブジェクトが持っている関数のに```alert()```という名前の関数があって、指定したテキストをポップアップ形式で表示するのに使えます。

<br/><br/><br/><br/><br/>

### 実際にやってみよう！　

```javascript
window.alert('hello')
```

<br/><br/><br/><br/><br/>

### ふりかえり

- ```window``` というオブジェクトに仕事をさせました。このオブジェクトはブラウザがスタートしたら自動的に作れらます
- オブジェクトにはいろんな関数があらかじめ備わっています
- メッセージは*'*記号で囲みました。これを*文字列*と呼びます。英語では character array と呼びます
- メッセージをカッコ（）の中に指定して、関数に*渡し*ました
- 関数に渡すものを*引数*と呼びます。英語ではparemeterとかargumentと呼びます

# 1.2 べき乗を計算する関数

## 問題

算数で習う「2の3乗」とか「5の8乗」とかの計算を「べき乗」といいます。JavaScriptには「べき乗」をやってくれる関数があります。それをつかって「7の5乗」の値を求めましょう。

### ヒント

- この場合はJavaScriptにもともと定義されている Math オブジェクトの```pow()```関数を使います。
- pow は power of の約です。「べき乗」の計算（a の n 乗）をしてくれます。
- pow() 関数は２つの引数を取ります。左から、ひとつ目の引数が基数（a)、ふたつ目の引数が指数（n）です

<br/><br/><br/><br/><br/>

### 実際にやってみよう！

```javascript
Math.pow(7, 5)
``` 

<br/><br/><br/><br/><br/>

### ふりかえり

- pow 関数は引数を２つ取りました。このように、引数の数は関数によって異なります（引数をひとつも取らない関数もあります）
- 数値演算に関連した関数はMathオブジェクトに多く定義されています
- 関数によっては「結果」を返すものがあります。この「関数が返す値」を*戻り値（もどりち）*と呼びます。英語では return value と表します。

# セクション２ 関数を作ってみよう！

プログラミングとは、ものすごく簡単に言うと「関数を組み合わせて関数を作る仕事」です。

ここでは関数を作る（定義する）やり方を練習します。

# 2.1 掛け算をする関数を作りましょう

## 問題

a と x という今はまだ分からない数値を２つ引数として受け取り、掛け算をしてその結果を返す関数を書いてください。

関数には multiply という名前を付けてましょう。関数が出来たら実際に a と x にそれぞれ 3 と 5 を渡して関数を呼び出してみましょう。結果が15なら成功です！

## ヒント

- 関数の名前は ``` var multiply ``` で表します。
- 「a と x という２つの引数を取る」という部分は ```(a, x)``` で表します。引数が複数の場合はコンマで区切ります。
- a と x の掛け算の式は ``` a * x ``` で表します（「掛ける」はXではなく*で表すことに注意しましょう）。
- 全部をまとめて var「関数の名前」=「関するの引数の部分」=> 「関数の式の部分」として表します（実際にやってみると分かりやすいです）

<br/><br/><br/><br/><br/>

### 実際にやってみよう！

```javascript
var multiply = (a, x) => a * x
multiply(3, 5)
``` 

<br/><br/><br/><br/><br/>

### ふりかえり


少し難しかったかもしれませんが、少しずつ分解して考えると理解できます。

- ``` var multiply = ``` の部分は*代入*です（英語で assignment ）。これは数値を格納する変数と全く同じ書き方です。*= 記号の右側（右辺）*を*= 記号の左側（左辺）*に*入れる（代わりとして入する）*という意味です。左辺はオブジェクトでなくてはなりません。この場合は multiply という名前のオブジェクトを同時に定義しています
- 右辺は``` (a, x) => a * x``` となっています。この形は (引数）=> 関数の式 という「関数の書き方」です。この記号は「矢」のように見えますね。
- 左辺の式を評価した結果は、関数から呼び出し元に「返されます」。
- 全体を日本語で表すとこうなります：「引数に a と x をとり、その積（掛け算の結果）を返す関数を作って multiply という名前のオブジェクトに保存する」）」のようになります。（英語では define a function named multiply that takes two parameters, a and x, and return a product of the two parameters.）

# 2.2 関数の書き方に慣れるように練習してみよう！

ここでは関数の使い方に慣れるように、いくつか練習をします。

最初は良く分からなても、実際に書いてさらに呼び出して使ってみることでだんだんと簡単に思えてくるでしょう。

# 練習４の１

## 問題

a と x を足す関数を定義してください。関数の名前は add です。

### 実際にやってみよう！

```javascript
var add = (a, x) => a + x
add(3, 5)
``` 

### ふりかえり

簡単ですよね？次にもう少し複雑な関数を作って見ます

# 練習４の２

## 問題

引数は a と b と x の３つを取り、式が a * x + b になるような関数を作ってください。名前は f1 にしましょう。

関数が出来たら、a=3、b=12、x=5 を引数の値にして f1 呼び出してみましょう。答えが27なら成功です。

### 実際にやってみよう！

```javascript
var f1 = (a, b, x) => a * x + b
f1(3, 12, 5)
``` 

### ふりかえり

どこかの数学の授業で見たことがあるような式が出てきましたね。せっかくなのでもっと数学の授業っぽいのをやってみましょう！

# 練習４の３

## 問題

a と b と c と x を引数にとって、(a * x * x) +　(b * x) + c になるような関数を作ってください。名前は f2 にしましょう。

確認として a=2、b=3、c=4、x=8 で関数 f2 を使って計算してみましょう。

### 実際にやってみよう！

```javascript
var f2 = (a, b, c, x) => (a * x * x) + (b * x) + c
add(2, 3, 4, 8)
``` 

### ふりかえり

これも数学で見たことがありませんか？

ところで「掛け算と足し算が混ざっている式」では掛け算が先に計算される、という算数のルールはプログラミングでも同じです。なので、下のようにカッコ無しでも構いません。

```javascript
var f2 = (a, b, c, x) => a * x * x + b * x + c
``` 

どうですか？慣れてきましたか？念のために引数が無い関数を書いてみましょう

# 練習４の４

## 問題

引数を受け取らない関数を作って、```alert()``` 関数を使って```hello```というメッセージを表示してたいです。関数の名前は sayHelloです。

### 実際にやってみよう！

```javascript
var sayHello = () => alert('hello')
sayHello()
``` 

### ふりかえり

簡単ですね、空っぽのカッコを使えばいいだけです「関数の引数 => 関数の式」という形は同じです。

# セクション３ 関数を返す関数を作ってみよう

ここまでの関数は式を評価した結果を「数値」として返しましたが、関数は別の関数を返してもいいのです。

# 3.1 引数が部分的に分かってる時

## 問題

下のような関数を定義したのを覚えていますか？

```
var multiply = (a, x) => a * x
```

ところで a が常に 2 だとすると、それは「与えられた数を２倍にする関数」と言えます。x の値はまだ分かりません（未知の数です）。

では、x を唯一の引数として取る、multiplyBy2 という名前の関数を、multiply 関数を再利用して作ってください。

関数が出来たら、適当な数値を渡して呼び出してみましょう。結果がすべて２倍になっていることを確認しましょう

## ヒント

### 実際にやってみよう！

```javascript
var multiplyBy2 = (x) => multiply(2, x)
multiBy2(3)
multiBy2(12)
``` 

### ふりかえり

- 最初に定義した multiply(a, x) という関数の引数のうち、分かっているパラメータだけ渡して別の名前の関数を作ることが出来ました
- このやり方で multyBy3 や multiBy4 や multiByPI なども、同じ multiply 関数で作ることが出来ます

## 2.3.2 算数の宿題を簡単にやる方法

## 問題

今回は、すでに定義した下のような関数再利用します。

```
var f2 = (a, b, c, x) => a * x * x + b * x + c
```

これは 数学で習う

<img src='https://latex.codecogs.com/svg.latex?\Large&space;\f(x)%20=%20ax^2%20+%20bx%20+%20c'>

の式ですね。 

が 2 だと分かっているとして、新たに x だけをパラメータとして取る、 multiBy2 という名前の関数をつくりましょう

ここで、a, b, c がそれぞれ 2, 4, 6 で、x の値が 1, 2, 3, 4, 5 の時の値を求める問題が出たとします。すでに定義されている関数 f2 を再利用して新しい関数 fhw という名前の関数を定義しましょう（fhw は function home work の略です）。関数が定義できたら x の値を変えて結果を求めましょう。

## ヒント

- すでに定義した関数 f2 を使いましょう。
- f2 の引数は a, b, c はそれぞれ 2, 4, 6 だと分かっていますが、x の値は*未知のまま*です。この未知のままの状態を保ったまま*別の新しい関数*を作るには ``` (x) => f2(2, 4, 6, x) ```` と書きます

<br/><br/><br/><br/><br/>

### 実際にやってみよう！

```javascript
var fhw = (x) => f2(2, 4, 6, x)
fhw(1)
fhw(2)
fhw(3)
fhw(4)
fhw(5)
``` 

<br/><br/><br/><br/><br/>

### ふりかえり

- 最初に定義した f2(a, b, c, x) という関数の引数のうち、分かっているパラメータだけ渡して別の名前の関数を作ることが出来ました
- このやり方で a, b, c の値が異なる関数をいくつでも作ることができます

# 2.4 時間がたったら関数が呼び出されるようにする

# 問題

これまでは、関数を呼び出すのはコンソールに入力してEnterキーを押した瞬間でした。

今回はタイマーを仕掛けて、５秒たったら alert 関数を呼び出して time to go! というメッセージを表示するようにプログラミングしましょう。

### ヒント

- window オブジェクトに setTimeout という関数があります。この関数を使うと、指定した時間が経過したら、指定した関数が自動的に呼び出されるように出来ます。
- setTimout の引数は２つです。一つ目は関数です。これまで使ってきた「関数の引数」=>「関数の式」の書き方で関数を渡すことができます。この渡す関数は引数の数がゼロです。その場合空白のカッコ（）を使います
- setTimeout のもう１つの引数は、タイマーの時間をミリ秒単位で表した値です。例えば1000を渡すと1000ミリ秒つまり１秒のタイマーになります

<br/><br/><br/><br/><br/>

実際にやってみよう！　

```
setTimeout(() => alert('time to go'), 5000)
```

<br/><br/><br/><br/><br/>

### ふりかえり

- ５秒後にポップアップメッセージが表示されました
- 関数の引数として、別の関数を渡すことが出来ることが分かりました
- 引数として渡す関数は「名前が無い」状態です。名前が無くても構いません


------


# おまけ

関数の使い方でさらにいくつかのコツやルールがあります。もし興味があったらやってみてね。このあたりは使っているうちに学ぶことなんで、今勉強しなくても大丈夫です！

# おまけその１ 引数が１個だけの時はカッコはいらない

## 問題

引数aを受け取って、aを2倍する関数を作りたいです。関数の名前は mulby2です。

### ヒント

「(a）=> 式」 からカッコを取り除いて「a => 式」のように出来ます。引数が1個の時だけ特別です

<br/><br/><br/><br/><br/>

### 実際にやってみよう！

```javascript
var mulby2 = a => a * 2
mulby2(5)
``` 

<br/><br/><br/><br/><br/>

### ふりかえり

さらに単純にすることが出来ました。ですが、簡略化すればするほど、何のことだか良く分からなくなることもあります。慣れるまでは自分がよく理解しているやり方を使うといいでしょう。

次は関数の式の部分をちょっとだけ複雑にする場合の書き方を見ていきます

# おまけその２ 式が２つ以上の時は｛｝を使って１つにする

## 問題

引数は受け取らないが、```alert```関数を2回呼び出す関数を作りたいです。1回目のメッセージは```hello```、2回目のメッセージは```nice to meet you```にしたいです。関数の名前は greetです。

### ヒント

- alert('メッセージの内容') を2回、同じ行で呼び出すには*;*記号でひとつ目の関数呼び出しをはっきりと終わらせます。例： ```alert('メッセージの内容１'); alert('メッセージの内容２')``` 
- 関数の引数 => 関数の式 の書き方の場合関数の式は１つでなくてはなりません。```alert```関数を１回だけ呼び出す時は式は１つとされましたが、２回呼び出すと１つの式だとは解釈してもらえません。１つの式にまとめるには*{ }* で括ってやります。例： ```{alert('メッセージの内容１'); alert('メッセージの内容２')}``` 

<br/><br/><br/><br/><br/>

### 実際にやってみよう！

```javascript
var greet = () => { alert('hello'); alert('nice to meet you') }
mulby2(5)
``` 

<br/><br/><br/><br/><br/>

### ふりかえり

関数の式が複雑になると{ }を使ってひとつにまとめることが出来ます。｛ ｝を使う別の理由として return オペレータを使う場合があります。見てみましょう。

